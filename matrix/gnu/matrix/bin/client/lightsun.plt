#!/usr/bin/gnuplot -persist
set terminal pngcairo  transparent enhanced font "arial,10" fontscale 1.0 size 600, 400 
set output '/home/denis/CEO2/plp147/gnu/matrix/img/ppm57.png'
set border 4096 front lt black linewidth 1.000 dashtype solid
set dummy t, y
set format r "%.0fÂ°" 
set angles degrees
set grid polar 30.000000
set grid noxtics nomxtics noytics nomytics noztics nomztics rtics nomrtics \
 nox2tics nomx2tics noy2tics nomy2tics nocbtics nomcbtics
set grid layerdefault   lt 0 linecolor 0 linewidth 0.500,  lt 0 linecolor 0 linewidth 0.500
set raxis
set theta clockwise top
unset key
set label 1 "Solar path at\nLatitude 47.67 N" at screen 0.02, 0.95, 0 left norotate font ":Bold,10" back nopoint
set polar
set size ratio 1 1,1
set style data lines
unset xtics
unset ytics
set rtics  norangelimit 30
set ttics axis in scale 1,0.5 nomirror norotate  autojustify
set ttics  norangelimit autofreq  font ":Bold"
set ttics add  ("W" -90.0000, "N" 0.00000, "E" 90.0000, "S" 180.000)
set timestamp "Seattle - %d %b %Y" 
set timestamp  offset character 1, 1, 0 font "" textcolor lt -1 norotate
set xrange [ -90.0000 : 90.0000 ] noreverse nowriteback
set x2range [ * : * ] noreverse writeback
set yrange [ -90.0000 : 90.0000 ] noreverse nowriteback
set y2range [ * : * ] noreverse writeback
set zrange [ * : * ] noreverse writeback
set cbrange [ * : * ] noreverse writeback
set rlabel "Altitude" 
set rlabel  offset character -2, 0, 0 font ":Bold" textcolor lt -1 norotate
set rrange [ 90.0000 : 0.00000 ] noreverse nowriteback
h(t) = 360. * t / Day
Altitude(t) = asin( sin(Dec) * sin(Phi) + cos(Dec) * cos(Phi) * cos(h(t)) )
cosAzi(t)  = ( sin(Dec) * sin(Phi) - cos(Dec) * cos(h(t)) * sin(Phi) )            / cos(Altitude(t))
sinAzi(t)  = ( -cos(Dec) * sin(h(t)) )            / cos(Altitude(t))
Azimuth(t) = atan2( sinAzi(t), cosAzi(t) )
NO_ANIMATION = 1
save_encoding = "utf8"
Latitude = 47.67
Longitude = -122.28
Date = "06-01-2020"
Minute = 60.0
Hour = 3600.0
Day = 86400.0
TimeFormat = "%d-%m-%Y %H:%M"
Phi = 47.67
n = 7309.5
L = 285.0496703
g = 1.77339285000016
lambda = 285.110170314961
eps = 23.4360762
RAsc = -73.6014412643106
Dec = -22.580112818973
daylength = 130.136390927271
corr = 5.22
rise = 14363.5669112725
set = 16869.1669112725
sunlight = "8 h 40 m"
sunrise = "8:00"
sunset = "16:41"
array dummy[150] = [-43200.0,-42600.0,-42000.0,-41400.0,-40800.0,-40200.0,-39600.0,-39000.0,-38400.0,-37800.0,-37200.0,-36600.0,-36000.0,-35400.0,-34800.0,-34200.0,-33600.0,-33000.0,-32400.0,-31800.0,-31200.0,-30600.0,-30000.0,-29400.0,-28800.0,-28200.0,-27600.0,-27000.0,-26400.0,-25800.0,-25200.0,-24600.0,-24000.0,-23400.0,-22800.0,-22200.0,-21600.0,-21000.0,-20400.0,-19800.0,-19200.0,-18600.0,-18000.0,-17400.0,-16800.0,-16200.0,-15600.0,-15000.0,-14400.0,-13800.0,-13200.0,-12600.0,-12000.0,-11400.0,-10800.0,-10200.0,-9600.0,-9000.0,-8400.0,-7800.0,-7200.0,-6600.0,-6000.0,-5400.0,-4800.0,-4200.0,-3600.0,-3000.0,-2400.0,-1800.0,-1200.0,-600.0,0.0,600.0,1200.0,1800.0,2400.0,3000.0,3600.0,4200.0,4800.0,5400.0,6000.0,6600.0,7200.0,7800.0,8400.0,9000.0,9600.0,10200.0,10800.0,11400.0,12000.0,12600.0,13200.0,13800.0,14400.0,15000.0,15600.0,16200.0,16800.0,17400.0,18000.0,18600.0,19200.0,19800.0,20400.0,21000.0,21600.0,22200.0,22800.0,23400.0,24000.0,24600.0,25200.0,25800.0,26400.0,27000.0,27600.0,28200.0,28800.0,29400.0,30000.0,30600.0,31200.0,31800.0,32400.0,33000.0,33600.0,34200.0,34800.0,35400.0,36000.0,36600.0,37200.0,37800.0,38400.0,39000.0,39600.0,40200.0,40800.0,41400.0,42000.0,42600.0,43200.0,43800.0,44400.0,45000.0,45600.0,46200.0]
array winter_alt[150] = [-65.765748681478,-65.6837943791762,-65.4396271016244,-65.0381686135367,-64.4871078384737,-63.7962434525089,-62.9767489438565,-62.0404704378976,-60.9993333541814,-59.864893469824,-58.6480344125534,-57.3587925763162,-56.0062813665154,-54.5986860240349,-53.1433041920547,-51.6466129566643,-50.1143485731071,-48.5515896849455,-46.9628383405458,-45.352095594331,-43.7229301458821,-42.0785395285917,-40.4218039927283,-38.7553335760766,-37.0815090206979,-35.402517247244,-33.7203820855871,-32.0369909125335,-30.3541177829269,-28.6734435708213,-26.996573569051,-25.3250529318099,-23.6603802872678,-22.0040197961802,-20.3574118876448,-18.7219828640655,-17.0991535333041,-15.4903469961869,-13.8969956912984,-12.3205477756754,-10.762472899048,-9.22426741016488,-7.70745901608078,-6.21361089874912,-4.74432527761764,-3.30124639201754,-1.88606286291845,-0.500509380140067,0.853632351472994,2.17453348481253,3.46031880992474,4.70906853550125,5.91882117276241,7.08757762337096,8.21330656986737,9.29395125856388,10.3274377499402,11.311684689503,12.2446146221519,13.1241668350033,13.9483116674782,14.7150661739785,15.4225109650763,16.0688079900359,16.6522189596962,17.1711240479955,17.6240404570231,18.0096403889709,18.3267679431535,18.5744544511858,18.7519317811978,18.8586431838716,18.894251318522,18.8586431838716,18.7519317811978,18.5744544511858,18.3267679431535,18.0096403889709,17.6240404570231,17.1711240479955,16.6522189596962,16.0688079900359,15.4225109650763,14.7150661739785,13.9483116674782,13.1241668350033,12.2446146221519,11.311684689503,10.3274377499402,9.29395125856388,8.21330656986737,7.08757762337096,5.91882117276241,4.70906853550125,3.46031880992474,2.17453348481253,0.853632351472994,-0.500509380140067,-1.88606286291845,-3.30124639201754,-4.74432527761764,-6.21361089874912,-7.70745901608078,-9.22426741016488,-10.762472899048,-12.3205477756754,-13.8969956912984,-15.4903469961869,-17.0991535333041,-18.7219828640655,-20.3574118876448,-22.0040197961802,-23.6603802872678,-25.3250529318099,-26.996573569051,-28.6734435708213,-30.3541177829269,-32.0369909125335,-33.7203820855871,-35.402517247244,-37.0815090206979,-38.7553335760766,-40.4218039927283,-42.0785395285917,-43.7229301458821,-45.352095594331,-46.9628383405458,-48.5515896849455,-50.1143485731071,-51.6466129566643,-53.1433041920547,-54.5986860240349,-56.0062813665154,-57.3587925763162,-58.6480344125534,-59.864893469824,-60.9993333541814,-62.0404704378976,-62.9767489438565,-63.7962434525089,-64.4871078384737,-65.0381686135367,-65.4396271016244,-65.6837943791762,-65.765748681478,-65.6837943791762,-65.4396271016244,-65.0381686135367,-64.4871078384737,-63.7962434525089]
array winter_azi[150] = [1.67536640989715e-14,5.95580651902212,11.8327432211824,17.5591132524744,23.0760184324658,28.3404784664604,33.3259247058107,38.0206314836446,42.4249501067636,46.5481601672893,50.4055122585955,54.0157650184025,57.3993080675428,60.5768343946388,63.5684673180877,66.3932336923463,69.0687849064058,71.6112860129873,74.0354130719541,76.3544159349872,78.5802171842667,80.7235279127276,82.793968100251,84.8001841828654,86.7499596371406,88.6503164910128,90.5076069843453,92.32759539472,94.1155304953073,95.8762093441664,97.6140331997618,99.3330563697425,101.037028764184,102.729432862891,104.413515733048,106.092316656961,107.76869085495,109.445329718278,111.124777902871,112.809447576887,114.501630064203,116.203505081361,117.917147727311,119.644533353239,121.387540413747,123.147951380738,124.927451787606,126.727627464081,128.549960021625,130.395820656108,132.266462348922,134.163010570272,136.086452619158,138.037625773637,140.017204471842,142.025686798018,144.06338060693,146.130389681997,148.226600384235,150.351669306352,152.505012494303,154.685796831691,156.892934194843,159.125078972539,161.380629499501,163.65773387343,165.954300510592,168.268013646219,170.596353808163,172.93662309342,175.285974868293,177.641447307537,180.0,-177.641447307537,-175.285974868293,-172.93662309342,-170.596353808163,-168.268013646219,-165.954300510592,-163.65773387343,-161.380629499501,-159.125078972539,-156.892934194843,-154.685796831691,-152.505012494303,-150.351669306352,-148.226600384235,-146.130389681997,-144.06338060693,-142.025686798018,-140.017204471842,-138.037625773637,-136.086452619158,-134.163010570272,-132.266462348922,-130.395820656108,-128.549960021625,-126.727627464081,-124.927451787606,-123.147951380738,-121.387540413747,-119.644533353239,-117.917147727311,-116.203505081361,-114.501630064203,-112.809447576887,-111.124777902871,-109.445329718278,-107.76869085495,-106.092316656961,-104.413515733048,-102.729432862891,-101.037028764184,-99.3330563697425,-97.6140331997618,-95.8762093441664,-94.1155304953073,-92.32759539472,-90.5076069843453,-88.6503164910128,-86.7499596371406,-84.8001841828654,-82.793968100251,-80.7235279127276,-78.5802171842667,-76.3544159349872,-74.0354130719541,-71.6112860129873,-69.0687849064058,-66.3932336923463,-63.5684673180877,-60.5768343946388,-57.3993080675428,-54.0157650184025,-50.4055122585955,-46.5481601672893,-42.4249501067636,-38.0206314836446,-33.3259247058107,-28.3404784664604,-23.0760184324658,-17.5591132524744,-11.8327432211824,-5.95580651902212,-1.67536640989715e-14,5.95580651902209,11.8327432211823,17.5591132524743,23.0760184324658,28.3404784664604]
time = 46800.0
array summer_alt[150] = [-18.8958928585141,-18.8602839328933,-18.7535701650568,-18.5760889187476,-18.3283969810921,-18.0112625356211,-17.6256543150355,-17.1727282955502,-16.6538123600958,-16.0703893995657,-15.424079339086,-14.716620571203,-13.94985125267,-13.1256908799968,-12.2461225055118,-11.3131758949369,-10.3289118636674,-9.29540796583712,-8.21474565084164,-7.08899894850254,-5.92022469790834,-4.71045429687128,-3.46168691901913,-2.17588412345986,-0.854965767063038,0.499192879150627,1.88476291116613,3.29996257101027,4.74305711909565,6.21235788760284,7.70622059280821,9.22304297285672,10.7612618048935,12.319349341985,13.8958091960403,15.4891716780366,17.0979885912044,18.7208274562955,20.356265130394,22.0028807616238,23.6592480011381,25.3239263704595,26.9954516560045,28.6723251728148,30.3530017054429,32.0358758948472,33.7192667953581,35.401400274712,37.0803888725772,38.7542086692977,40.4206726482483,42.0773999655999,43.7217804768698,45.3509338216893,46.9616623556171,48.5503972707987,50.1131374127493,51.6453806489609,53.14204827829,54.59740402879,56.0049708572687,57.3574512467093,58.646660194279,59.8634846770746,60.9978888618186,62.0389898891481,62.9752329747988,63.794693909076,64.4855279490631,65.0365630708538,65.4380020073902,65.6821570207464,65.7641071414859,65.6821570207464,65.4380020073902,65.0365630708538,64.4855279490631,63.794693909076,62.9752329747988,62.0389898891481,60.9978888618186,59.8634846770746,58.646660194279,57.3574512467093,56.0049708572687,54.59740402879,53.14204827829,51.6453806489609,50.1131374127493,48.5503972707987,46.9616623556171,45.3509338216893,43.7217804768698,42.0773999655999,40.4206726482483,38.7542086692977,37.0803888725772,35.401400274712,33.7192667953581,32.0358758948472,30.3530017054429,28.6723251728148,26.9954516560045,25.3239263704595,23.6592480011381,22.0028807616238,20.356265130394,18.7208274562955,17.0979885912044,15.4891716780366,13.8958091960403,12.319349341985,10.7612618048935,9.22304297285672,7.70622059280821,6.21235788760284,4.74305711909565,3.29996257101027,1.88476291116613,0.499192879150627,-0.854965767063038,-2.17588412345986,-3.46168691901913,-4.71045429687128,-5.92022469790834,-7.08899894850254,-8.21474565084164,-9.29540796583712,-10.3289118636674,-11.3131758949369,-12.2461225055118,-13.1256908799968,-13.94985125267,-14.716620571203,-15.424079339086,-16.0703893995657,-16.6538123600958,-17.1727282955502,-17.6256543150355,-18.0112625356211,-18.3283969810921,-18.5760889187476,-18.7535701650568,-18.8602839328933,-18.8958928585141,-18.8602839328933,-18.7535701650568,-18.5760889187476,-18.3283969810921,-18.0112625356211]
array summer_azi[150] = [6.62131327766097e-15,2.35860866398087,4.71413684590796,7.06354391047375,9.40386781745307,11.7322617314914,14.0460275648762,16.3426456807292,18.6198001718465,20.8753993359434,23.1075911769108,25.3147739605644,27.4956020312195,29.6489872441673,31.77409648396,33.8703458177032,35.9373918774479,37.9751210796017,39.9836372768394,41.9632484048887,43.9144526386054,45.8379245144528,47.7345014147808,49.6051707472751,51.4510580938484,53.2734165494489,55.073617424367,56.8531424445508,58.6135775536347,60.3566083978458,62.0840175604777,63.797683605812,65.499581992815,67.1917879261918,68.8764812261159,70.5559533178838,72.2326164687488,73.9090154312451,75.5878416905056,77.2719505575868,78.9643814018281,80.6683813729083,82.3874330274224,84.1252863449142,85.8859956929844,87.6739623775778,89.4939834878257,91.3513078063476,93.2516995916873,95.2015110271816,97.2077640350038,99.2782419214453,101.421590867962,103.647430490099,105.966471374116,108.390635411895,110.933171529542,113.608754562574,116.433547964563,119.425201063,122.602738093801,125.986279108219,129.596513110355,133.453825006428,137.576968083178,141.981187213833,146.675756415114,151.661022375376,156.925256857092,162.44189190643,168.167952214704,174.044549277307,-180.0,-174.044549277307,-168.167952214704,-162.44189190643,-156.925256857092,-151.661022375376,-146.675756415114,-141.981187213833,-137.576968083178,-133.453825006428,-129.596513110355,-125.986279108219,-122.602738093801,-119.425201063,-116.433547964563,-113.608754562574,-110.933171529542,-108.390635411895,-105.966471374116,-103.647430490099,-101.421590867962,-99.2782419214453,-97.2077640350038,-95.2015110271816,-93.2516995916873,-91.3513078063476,-89.4939834878257,-87.6739623775778,-85.8859956929844,-84.1252863449142,-82.3874330274224,-80.6683813729083,-78.9643814018281,-77.2719505575868,-75.5878416905056,-73.9090154312451,-72.2326164687488,-70.5559533178838,-68.8764812261159,-67.1917879261918,-65.499581992815,-63.797683605812,-62.0840175604777,-60.3566083978458,-58.6135775536347,-56.8531424445508,-55.073617424367,-53.2734165494489,-51.4510580938484,-49.6051707472751,-47.7345014147808,-45.8379245144528,-43.9144526386054,-41.9632484048887,-39.9836372768394,-37.9751210796017,-35.9373918774479,-33.8703458177032,-31.77409648396,-29.6489872441673,-27.4956020312195,-25.3147739605644,-23.1075911769108,-20.8753993359434,-18.6198001718465,-16.3426456807292,-14.0460275648762,-11.7322617314914,-9.40386781745307,-7.06354391047375,-4.71413684590796,-2.35860866398087,-6.62131327766097e-15,2.35860866398086,4.71413684590795,7.06354391047373,9.40386781745308,11.7322617314914]
array today_alt[150] = [-64.910112818973,-64.8302687512406,-64.5922945484531,-64.2007211280335,-63.6626528900649,-62.9871906990582,-62.1847786405529,-61.2665694386492,-60.2438768463304,-59.1277501125967,-57.9286767280039,-56.656400339288,-55.3198312885626,-53.9270252476049,-52.4852078358188,-51.0008274286031,-49.4796229676377,-47.9266976452731,-46.3465925515016,-44.743356739381,-43.1206118104179,-41.4816102085573,-39.829287092822,-38.1663060589825,-36.4950991940167,-34.817902040879,-33.136784071586,-31.4536752446865,-29.77038917875,-28.088643419022,-26.4100772173588,-24.7362671902012,-23.068741167904,-21.408990502126,-19.7584810564072,-18.1186630682638,-16.490980038664,-14.8768767760446,-13.2778066965151,-11.6952384590144,-10.1306619934269,-8.58559396058221,-7.06158266527032,-5.56021242660331,-4.08310739401102,-2.63193478172934,-1.20840747977794,0.185714014819834,1.54862041628328,2.87845329988081,4.17330567627392,5.43122359218691,6.6502088652134,7.8282230629536,8.96319283445266,10.0530166940387,11.0955733430869,12.0887315929826,13.0303619218378,13.9183496578622,14.7506097337268,15.5251028994378,16.2398532175911,16.8929665967193,17.482650048984,18.0072312917686,18.465178253491,18.855117997232,19.1758545465077,19.4263850900374,19.6059140598414,19.7138646209641,19.749887181027,19.7138646209641,19.6059140598414,19.4263850900374,19.1758545465077,18.855117997232,18.465178253491,18.0072312917686,17.482650048984,16.8929665967193,16.2398532175911,15.5251028994378,14.7506097337268,13.9183496578622,13.0303619218378,12.0887315929826,11.0955733430869,10.0530166940387,8.96319283445266,7.8282230629536,6.6502088652134,5.43122359218691,4.17330567627392,2.87845329988081,1.54862041628328,0.185714014819834,-1.20840747977794,-2.63193478172934,-4.08310739401102,-5.56021242660331,-7.06158266527032,-8.58559396058221,-10.1306619934269,-11.6952384590144,-13.2778066965151,-14.8768767760446,-16.490980038664,-18.1186630682638,-19.7584810564072,-21.408990502126,-23.068741167904,-24.7362671902012,-26.4100772173588,-28.088643419022,-29.77038917875,-31.4536752446865,-33.136784071586,-34.817902040879,-36.4950991940167,-38.1663060589825,-39.829287092822,-41.4816102085573,-43.1206118104179,-44.743356739381,-46.3465925515016,-47.9266976452731,-49.4796229676377,-51.0008274286031,-52.4852078358188,-53.9270252476049,-55.3198312885626,-56.656400339288,-57.9286767280039,-59.1277501125967,-60.2438768463304,-61.2665694386492,-62.1847786405529,-62.9871906990582,-63.6626528900649,-64.2007211280335,-64.5922945484531,-64.8302687512406,-64.910112818973,-64.8302687512406,-64.5922945484531,-64.2007211280335,-63.6626528900649,-62.9871906990582]
array today_azi[150] = [1.62481130092409e-14,5.77702978794684,11.4830324152225,17.0530269200997,22.4329013335562,27.5822263222436,32.4749131348867,37.0981118468266,41.4500157404647,45.5372353284648,49.3722396153907,52.9711528229028,56.3520186638509,59.5335284987099,62.5341498907797,65.3715715990363,68.0623831328486,70.621919326223,73.0642155281466,75.4020331825781,77.6469273060078,79.8093364043209,81.8986819961143,83.9234695980008,85.891386250479,87.8093918218085,89.6838027358353,91.5203676612292,93.3243352419154,95.1005142592898,96.8533267771472,98.5868548850533,100.304881661847,102.010926952266,103.708278502035,105.400018940099,107.089049037312,108.778107612446,110.469788401162,112.166554152611,113.870748172369,115.584603489515,117.310249790139,119.049718229331,120.804944208944,122.577768189322,124.369934589967,126.183088827304,128.018772537668,129.878417041052,131.763335116506,133.674711184016,135.613590020483,137.580864179271,139.577260333362,141.603324820635,143.659408734556,145.745652972269,147.861973721202,150.008048930518,152.18330636966,154.386913916636,156.617772737183,158.874514005973,161.155499777055,163.458828528617,165.782345785329,168.123660061309,170.48016417327,172.849061755375,175.22739857703,177.612098037191,180.0,-177.612098037191,-175.22739857703,-172.849061755375,-170.48016417327,-168.123660061309,-165.782345785329,-163.458828528617,-161.155499777055,-158.874514005973,-156.617772737183,-154.386913916636,-152.18330636966,-150.008048930518,-147.861973721202,-145.745652972269,-143.659408734556,-141.603324820635,-139.577260333362,-137.580864179271,-135.613590020483,-133.674711184016,-131.763335116506,-129.878417041052,-128.018772537668,-126.183088827304,-124.369934589967,-122.577768189322,-120.804944208944,-119.049718229331,-117.310249790139,-115.584603489515,-113.870748172369,-112.166554152611,-110.469788401162,-108.778107612446,-107.089049037312,-105.400018940099,-103.708278502035,-102.010926952266,-100.304881661847,-98.5868548850533,-96.8533267771472,-95.1005142592898,-93.3243352419154,-91.5203676612292,-89.6838027358353,-87.8093918218085,-85.891386250479,-83.9234695980008,-81.8986819961143,-79.8093364043209,-77.6469273060078,-75.4020331825781,-73.0642155281466,-70.621919326223,-68.0623831328486,-65.3715715990363,-62.5341498907797,-59.5335284987099,-56.3520186638509,-52.9711528229028,-49.3722396153907,-45.5372353284648,-41.4500157404647,-37.0981118468266,-32.4749131348867,-27.5822263222436,-22.4329013335562,-17.0530269200997,-11.4830324152225,-5.77702978794684,-1.62481130092409e-14,5.77702978794681,11.4830324152224,17.0530269200997,22.4329013335562,27.5822263222436]
today = "Today â˜‰  \n8 h 40 m\nof sunlight"
## Last datafile plotted: "@@"
plot dummy using (winter_azi[$1]):(winter_alt[$1]) lw 2 title "   Winter Solstice" at beg left,      dummy using (summer_azi[$1]):(summer_alt[$1]) lw 2 title "   Summer Solstice" at beg left,      dummy using (today_azi[$1]):(today_alt[$1]) lw 2 title today at end right
